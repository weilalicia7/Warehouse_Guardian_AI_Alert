<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Guardian AI - Live Warehouse Protection System</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&family=Share+Tech+Mono&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-red: #E4393C;
            --dark-bg: #0a0a0a;
            --warehouse-bg: #1a1410;
            --shelf-color: #3a3a3a;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --accent-blue: #00d4ff;
            --accent-green: #00ff88;
            --accent-orange: #ff9500;
            --danger-red: #ff3b30;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--warehouse-bg);
            color: var(--text-primary);
            overflow-x: hidden;
            position: relative;
        }

        /* Warehouse Background with Shelves */
        .warehouse-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            perspective: 1000px;
        }

        .warehouse-floor {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 100%;
            background:
                linear-gradient(180deg,
                    rgba(26, 20, 16, 0.3) 0%,
                    rgba(26, 20, 16, 0.8) 60%,
                    rgba(26, 20, 16, 0.95) 100%),
                repeating-linear-gradient(90deg,
                    transparent 0px,
                    transparent 150px,
                    rgba(58, 58, 58, 0.3) 150px,
                    rgba(58, 58, 58, 0.3) 152px
                );
        }

        .shelf-row {
            position: absolute;
            width: 100%;
            height: 80px;
            background: linear-gradient(180deg,
                rgba(58, 58, 58, 0.6) 0%,
                rgba(40, 40, 40, 0.4) 100%);
            border-bottom: 2px solid rgba(80, 80, 80, 0.4);
            transform: rotateX(60deg);
            transform-origin: bottom;
        }

        .shelf-row-1 { bottom: 70%; opacity: 0.3; }
        .shelf-row-2 { bottom: 55%; opacity: 0.4; }
        .shelf-row-3 { bottom: 40%; opacity: 0.5; }

        /* Scanlines overlay */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 0, 0, 0.15),
                rgba(0, 0, 0, 0.15) 1px,
                transparent 1px,
                transparent 2px
            );
            pointer-events: none;
            z-index: 999;
            animation: scanline-move 8s linear infinite;
        }

        @keyframes scanline-move {
            0% { transform: translateY(0); }
            100% { transform: translateY(100px); }
        }

        /* Security Camera HUD */
        .security-hud {
            position: fixed;
            top: 20px;
            right: 20px;
            font-family: 'Share Tech Mono', monospace;
            color: var(--accent-green);
            font-size: 14px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px 20px;
            border: 1px solid var(--accent-green);
            border-radius: 4px;
        }

        .security-hud .blink {
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50%, 100% { opacity: 1; }
            25%, 75% { opacity: 0; }
        }

        /* Main Content Container */
        .content {
            position: relative;
            z-index: 1;
            max-width: 1600px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 60px 20px 40px;
            background: linear-gradient(180deg,
                rgba(228, 57, 60, 0.15) 0%,
                transparent 100%);
            border-bottom: 2px solid rgba(228, 57, 60, 0.3);
            margin-bottom: 60px;
        }

        .case-number {
            font-family: 'Share Tech Mono', monospace;
            color: var(--accent-green);
            font-size: 14px;
            letter-spacing: 4px;
            margin-bottom: 20px;
        }

        .main-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 64px;
            font-weight: 900;
            color: var(--primary-red);
            text-shadow: 0 0 30px rgba(228, 57, 60, 0.6);
            margin-bottom: 15px;
            letter-spacing: 2px;
        }

        .subtitle {
            font-size: 24px;
            color: var(--text-secondary);
            font-weight: 300;
            letter-spacing: 8px;
        }

        .threat-status {
            display: inline-block;
            margin-top: 30px;
            padding: 15px 40px;
            background: rgba(0, 255, 136, 0.1);
            border: 2px solid var(--accent-green);
            border-radius: 4px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 20px;
            color: var(--accent-green);
            animation: pulse-green 2s ease-in-out infinite;
        }

        @keyframes pulse-green {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 136, 0.3); }
            50% { box-shadow: 0 0 40px rgba(0, 255, 136, 0.6); }
        }

        /* Crime Context Section */
        .crime-context {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid var(--danger-red);
            border-radius: 8px;
            padding: 40px;
            margin-bottom: 60px;
        }

        .crime-context h2 {
            font-family: 'Orbitron', sans-serif;
            color: var(--danger-red);
            font-size: 32px;
            margin-bottom: 30px;
            text-align: center;
        }

        .crime-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .crime-card {
            background: rgba(255, 59, 48, 0.05);
            border: 1px solid rgba(255, 59, 48, 0.3);
            border-radius: 6px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .crime-card:hover {
            border-color: var(--danger-red);
            box-shadow: 0 0 20px rgba(255, 59, 48, 0.3);
        }

        .crime-card h3 {
            color: var(--danger-red);
            font-size: 18px;
            margin-bottom: 10px;
            font-family: 'Orbitron', sans-serif;
        }

        .crime-card .crime-stat {
            font-size: 32px;
            color: var(--accent-orange);
            font-weight: 700;
            margin: 15px 0 10px;
        }

        .crime-card .crime-detail {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Animated Workflow Section */
        .workflow-container {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid var(--primary-red);
            border-radius: 8px;
            padding: 40px;
            margin-bottom: 60px;
            position: relative;
        }

        .workflow-container h2 {
            font-family: 'Orbitron', sans-serif;
            color: var(--primary-red);
            font-size: 36px;
            margin-bottom: 40px;
            text-align: center;
        }

        /* Data Flow Animation Canvas */
        #dataFlowCanvas {
            width: 100%;
            height: 800px;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(228, 57, 60, 0.3);
            border-radius: 4px;
            margin-bottom: 30px;
        }

        /* Phase Timeline */
        .phase-timeline {
            position: relative;
            margin-top: 40px;
        }

        .phase {
            background: rgba(10, 10, 10, 0.8);
            border-left: 4px solid var(--text-secondary);
            padding: 30px;
            margin-bottom: 20px;
            border-radius: 4px;
            opacity: 0.3;
            transform: translateX(-30px);
            transition: all 0.5s ease;
        }

        .phase.active {
            opacity: 1;
            transform: translateX(0);
            border-left-color: var(--primary-red);
            box-shadow: 0 0 30px rgba(228, 57, 60, 0.3);
        }

        .phase.completed {
            opacity: 0.6;
            border-left-color: var(--accent-green);
        }

        .phase-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .phase-time {
            font-family: 'Share Tech Mono', monospace;
            color: var(--accent-blue);
            font-size: 14px;
        }

        .phase-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 24px;
            color: var(--text-primary);
        }

        .phase-status {
            font-size: 12px;
            padding: 4px 12px;
            border-radius: 12px;
            background: rgba(228, 57, 60, 0.2);
            color: var(--primary-red);
            border: 1px solid var(--primary-red);
        }

        .phase-status.attack {
            background: rgba(255, 59, 48, 0.2);
            color: var(--danger-red);
            border-color: var(--danger-red);
        }

        .phase-status.defense {
            background: rgba(0, 255, 136, 0.2);
            color: var(--accent-green);
            border-color: var(--accent-green);
        }

        .phase-data {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            padding: 25px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 15px;
            color: var(--accent-green);
            white-space: pre-wrap;
            overflow-x: auto;
            margin-top: 15px;
            line-height: 1.6;
        }

        /* Metrics */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .metric-card {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(228, 57, 60, 0.3);
            border-radius: 6px;
            padding: 20px;
            text-align: center;
        }

        .metric-value {
            font-size: 36px;
            font-weight: 700;
            color: var(--primary-red);
            margin: 10px 0;
        }

        .metric-label {
            font-size: 14px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin: 30px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-red), var(--accent-orange));
            width: 0%;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px var(--primary-red);
        }

        /* Control Buttons */
        .controls {
            text-align: center;
            margin-top: 30px;
        }

        .btn {
            font-family: 'Rajdhani', sans-serif;
            padding: 12px 30px;
            margin: 0 10px;
            border: 2px solid var(--primary-red);
            background: rgba(228, 57, 60, 0.1);
            color: var(--primary-red);
            font-size: 16px;
            font-weight: 600;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: var(--primary-red);
            color: white;
            box-shadow: 0 0 20px rgba(228, 57, 60, 0.5);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
            font-size: 14px;
        }

        .footer a {
            color: var(--primary-red);
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- Warehouse Background -->
    <div class="warehouse-container">
        <div class="warehouse-floor"></div>
        <div class="shelf-row shelf-row-1"></div>
        <div class="shelf-row shelf-row-2"></div>
        <div class="shelf-row shelf-row-3"></div>
    </div>

    <!-- Scanlines Overlay -->
    <div class="scanlines"></div>

    <!-- Security HUD -->
    <div class="security-hud">
        <div>üìπ CAM-A-01 | WAREHOUSE SECTOR A</div>
        <div>REC <span class="blink">‚óè</span> | <span id="timestamp">2024-12-22 03:47:15</span></div>
        <div id="systemStatus" style="margin-top: 10px;">SYSTEM: MONITORING</div>
    </div>

    <!-- Main Content -->
    <div class="content">
        <!-- Hero Section -->
        <div class="hero">
            <div class="case-number">CASE FILE #2025-12-22-PARIS</div>
            <h1 class="main-title">BUSINESS GUARDIAN AI</h1>
            <p class="subtitle">REAL-TIME WAREHOUSE PROTECTION</p>
            <div class="threat-status" id="threatStatus">THREAT NEUTRALIZED ‚úì</div>
        </div>

        <!-- Crime Context -->
        <div class="crime-context">
            <h2>‚ö† THE $47.8 BILLION CRISIS</h2>
            <p style="text-align: center; font-size: 18px; color: var(--text-secondary); margin-bottom: 30px;">
                Warehouse theft is exploding across the globe. Here are real incidents from 2024-2025:
            </p>

            <div class="crime-grid">
                <div class="crime-card">
                    <h3>üá´üá∑ PARIS E-COMMERCE HEIST</h3>
                    <div class="crime-stat">‚Ç¨37 Million</div>
                    <div class="crime-detail">
                        <strong>2025</strong> - Major international retailer, Paris region<br>
                        <strong>Stolen:</strong> 50,000+ high-value electronics and devices<br>
                        <strong>Method:</strong> Sophisticated QR code fraud & warehouse breach<br>
                        <strong>Note:</strong> Traditional security completely bypassed
                    </div>
                </div>

                <div class="crime-card">
                    <h3>üá∫üá∏ E-COMMERCE INSIDER RING</h3>
                    <div class="crime-stat">$2 Million</div>
                    <div class="crime-detail">
                        <strong>2024-2025</strong> - Fortune 500 retailer, multiple sites<br>
                        <strong>Stolen:</strong> Premium electronics, footwear, consumer goods<br>
                        <strong>Method:</strong> Employee theft operation over 2 years<br>
                        <strong>Additional cases:</strong> $372K electronics, $224K apparel
                    </div>
                </div>

                <div class="crime-card">
                    <h3>üè¢ ATHLETIC APPAREL HEIST</h3>
                    <div class="crime-stat">$1+ Million</div>
                    <div class="crime-detail">
                        <strong>May 2024</strong> - Premium fitness brand, Southern California<br>
                        <strong>Stolen:</strong> High-end athletic apparel and accessories<br>
                        <strong>Method:</strong> Distribution center organized burglary<br>
                        <strong>Impact:</strong> Major supply chain disruption
                    </div>
                </div>

                <div class="crime-card">
                    <h3>üì¶ CARGO THEFT SURGE</h3>
                    <div class="crime-stat">$455 Million+</div>
                    <div class="crime-detail">
                        <strong>2024 Total</strong> - 3,798 incidents (‚Üë26% from 2023)<br>
                        <strong>Average value:</strong> $330,000 per theft<br>
                        <strong>41%</strong> of thefts occur inside warehouses<br>
                        <strong>Electronics:</strong> 23% of stolen products
                    </div>
                </div>

                <div class="crime-card">
                    <h3>üá∫üá∏ SOUTHERN CALIFORNIA RAID</h3>
                    <div class="crime-stat">$9.5 Million</div>
                    <div class="crime-detail">
                        <strong>2024</strong> - ORC ring arrested<br>
                        <strong>Stolen:</strong> Shoes, clothing, electronics from big-box retailers<br>
                        <strong>Method:</strong> Organized cargo theft ring<br>
                        <strong>Recovered:</strong> Dozens of pallets
                    </div>
                </div>

                <div class="crime-card">
                    <h3>üìä INDUSTRY CRISIS</h3>
                    <div class="crime-stat">$47.8 Billion</div>
                    <div class="crime-detail">
                        <strong>2025 Total</strong> - U.S. retail theft losses<br>
                        <strong>Projected 2028:</strong> $55 billion<br>
                        <strong>Employee theft:</strong> $50B annually<br>
                        <strong>First time ever:</strong> >$1B stolen in single year
                    </div>
                </div>
            </div>
        </div>

        <!-- Animated Workflow -->
        <div class="workflow-container">
            <h2>üõ°Ô∏è BUSINESS GUARDIAN AI IN ACTION</h2>
            <p style="text-align: center; color: var(--text-secondary); margin-bottom: 30px;">
                Watch how our system detects and stops sophisticated warehouse fraud attacks in real-time
            </p>

            <!-- Data Flow Canvas -->
            <canvas id="dataFlowCanvas"></canvas>

            <!-- Progress Bar -->
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>

            <!-- Phase Timeline -->
            <div class="phase-timeline" id="phaseTimeline">
                <!-- Phases will be dynamically added here -->
            </div>

            <!-- Controls -->
            <div class="controls">
                <button class="btn" id="playBtn" onclick="startDemo()">‚ñ∂ START DEMO</button>
                <button class="btn" id="pauseBtn" onclick="pauseDemo()" disabled>‚è∏ PAUSE</button>
                <button class="btn" id="resetBtn" onclick="resetDemo()">‚Üª RESET</button>
            </div>

            <!-- Metrics -->
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-label">Detection Time</div>
                    <div class="metric-value" id="metricTime">87ms</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Threat Score</div>
                    <div class="metric-value" id="metricThreat">98.5/100</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Assets Protected</div>
                    <div class="metric-value" id="metricAssets">‚Ç¨37M</div>
                </div>
                <div class="metric-card">
                    <div class="metric-label">Detection Rate</div>
                    <div class="metric-value" id="metricRate">100%</div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Built for <strong>Google Cloud AI Partner Catalyst Hackathon 2025</strong></p>
            <p>Powered by <strong>Confluent Cloud</strong> (Kafka + Flink SQL) + <strong>Google Cloud AI</strong> (Vertex AI + Gemini)</p>
            <p style="margin-top: 20px;">
                <a href="https://github.com/your-username/business-guardian-ai" target="_blank">GitHub Repository</a> |
                <a href="#" target="_blank">Live Demo</a> |
                <a href="#" target="_blank">Documentation</a>
            </p>
        </div>
    </div>

    <script>
        // Phases data with real timestamps and information
        const phases = [
            {
                time: "T+00:00.000",
                title: "QR Code Scan Attempt",
                status: "attack",
                description: "Thief attempts to scan tampered QR code at exit gate",
                data: `[SCAN EVENT]
Location: Exit Gate A, Warehouse Sector C
Product: Honor Magic 6 Pro (Retail: ‚Ç¨1,199)
QR Code ID: QR-3C-HON-MAG6-50147
Timestamp: 2024-12-22 03:47:15.342

[CRYPTOGRAPHIC VERIFICATION]
Expected Signature: eb0450d0f5c4874fa4ede05d0503c434a8b2c1f9...
Received Signature: INVALID_SIGNATURE_MISMATCH

[ALERT] QR code cryptographic verification FAILED
[ALERT] Signature tampering detected
[ACTION] Blocking exit gate immediately`
            },
            {
                time: "T+00:00.050",
                title: "Kafka Event Published",
                status: "defense",
                description: "QR verification failure sent to Confluent Cloud in 50ms",
                data: `[KAFKA PRODUCER]
Topic: qr-code-scans
Partition: 2
Offset: 147893

{
  "event_id": "QR-FAIL-20241222-034715-001",
  "qr_id": "QR-3C-HON-MAG6-50147",
  "product_id": "3C-PHONE-HON-001",
  "verification_status": "FAILED",
  "signature_match": false,
  "threat_level": "CRITICAL",
  "location": "EXIT-GATE-A",
  "timestamp": 1703214435342,
  "alert_sent": true
}

[OK] Event published to Confluent Cloud`
            },
            {
                time: "T+00:30.000",
                title: "Physical Sensors Detect Theft",
                status: "attack",
                description: "Weight sensors detect massive inventory removal (30 seconds earlier)",
                data: `[IOT SENSOR ARRAY]
Warehouse: Paris-Dugny, Sector A

WEIGHT-SENSOR-A-7:
  Previous: 187.5 kg | Current: 173.3 kg
  Delta: -14.2 kg | Items missing: ~7 devices

WEIGHT-SENSOR-A-10:
  Previous: 245.8 kg | Current: 227.6 kg
  Delta: -18.2 kg | Items missing: ~9 devices

WEIGHT-SENSOR-A-4:
  Previous: 312.4 kg | Current: 281.9 kg
  Delta: -30.5 kg | Items missing: ~14 devices

[ALERT] Total items missing: 30+ devices
[ALERT] Total weight lost: 62.9 kg
[ALERT] Camera-A-07 flagged suspicious activity
[ACTION] Sending physical anomaly event to Kafka`
            },
            {
                time: "T+00:30.080",
                title: "Flink SQL Correlation",
                status: "defense",
                description: "Apache Flink correlates physical theft with QR attempt",
                data: `[APACHE FLINK SQL - QUERY 05]

SELECT
  phys.location,
  phys.items_missing_count,
  phys.weight_delta_kg,
  dig.transaction_type,
  qr.verification_status
FROM inventory_physical phys
JOIN inventory_digital dig
  ON phys.location = dig.location
  AND phys.event_time BETWEEN
      dig.event_time - INTERVAL '60' SECOND AND
      dig.event_time + INTERVAL '60' SECOND
JOIN qr_code_scans qr
  ON phys.location = qr.location
WHERE phys.items_missing_count > 5
  AND qr.verification_status = 'FAILED'

[MATCH FOUND]
Physical: 30 items missing, 62.9kg
Digital: No ERP transaction recorded
QR: Signature verification FAILED
Correlation: CONFIRMED THEFT ATTEMPT`
            },
            {
                time: "T+01:00.000",
                title: "Digital Inventory Fraud Detected",
                status: "attack",
                description: "71 fraudulent ERP transactions marking items as 'shipped'",
                data: `[ERP SYSTEM ANOMALY DETECTION]

Suspicious User: COMPROMISED-ACC-X47
Transaction Type: BULK_STATUS_UPDATE
Items Modified: 71 devices
Status Changed: IN_STOCK ‚Üí SHIPPED
Timestamp: 2024-12-22 03:46:15

Products Affected:
- 30x Honor Magic 6 Pro (‚Ç¨1,199 each) = ‚Ç¨35,970
- 25x Oppo Find X6 Pro (‚Ç¨999 each) = ‚Ç¨24,975
- 16x Honor Pad 9 (‚Ç¨349 each) = ‚Ç¨5,584

Total Value: ‚Ç¨66,529

[ALERT] No corresponding shipment documents
[ALERT] No courier pickup scheduled
[ALERT] User location: Warehouse floor (not office)
[FLAG] Digital fraud probability: 99.8%`
            },
            {
                time: "T+01:00.050",
                title: "Vertex AI Prediction",
                status: "defense",
                description: "ML model analyzes 20 features, predicts 100% fraud probability",
                data: `[GOOGLE CLOUD VERTEX AI]
Model: fraud_detector_v2.pkl
Inference Latency: 8.7ms

Feature Vector (Top 10 of 20):
  qr_scan_location_risk: 0.95 (exit gate)
  user_risk_score: 0.89 (compromised account)
  quantity_change: 71 (massive bulk)
  transaction_amount: 66529.00 (high value)
  time_since_last_scan: 3600 (1 hour gap)
  items_missing_count: 30 (physical sensors)
  weight_anomaly: TRUE
  camera_anomaly: TRUE
  digital_mismatch: TRUE
  night_shift: TRUE

[PREDICTION]
Fraud Probability: 1.0000 (100.00%)
Threat Score: 98.5/100
Recommended Action: BLOCK_EXIT_IMMEDIATELY
Confidence: CRITICAL`
            },
            {
                time: "T+02:00.000",
                title: "Exit Gate Scan Blocked",
                status: "attack",
                description: "Thief attempts exit with 50,000+ stolen devices",
                data: `[EXIT GATE SCAN EVENT]
Gate: EXIT-A
Vehicle: White Van (License: XX-123-YY)
Scan Count: 147 QR codes in 30 seconds

[VERIFICATION RESULTS]
‚úó Invalid signatures: 147/147 (100%)
‚úó All QR codes flagged as tampered
‚úó Total value if succeeded: ‚Ç¨37,000,000+

[SYSTEM RESPONSE]
‚Üí Exit gate: LOCKED
‚Üí Security alert: DISPATCHED
‚Üí Police notification: SENT
‚Üí Camera recording: ACTIVE
‚Üí All exits: SECURED

[STATUS] Theft attempt BLOCKED
[TIME] Total detection to block: 87ms`
            },
            {
                time: "T+02:00.020",
                title: "Gemini AI Alert Generated",
                status: "defense",
                description: "AI generates actionable incident report for security",
                data: `[GOOGLE GEMINI 2.5 FLASH]
Alert Generation: 18ms

=== CRITICAL SECURITY ALERT ===

INCIDENT: Attempted large-scale warehouse theft
THREAT LEVEL: CRITICAL (98.5/100)
TIME: 2024-12-22 03:47:15

SUMMARY:
A sophisticated theft attempt targeting 50,000+
electronic devices (Honor & Oppo smartphones, tablets)
worth ‚Ç¨37 million has been detected and BLOCKED at
Exit Gate A. The perpetrator(s) used tampered QR codes
to bypass inventory systems, matching attack patterns
from recent ‚Ç¨37M European warehouse fraud cases.

EVIDENCE:
‚úì 147 QR codes with invalid cryptographic signatures
‚úì 30 items physically missing (weight sensors)
‚úì 71 fraudulent ERP transactions (no shipment docs)
‚úì Suspicious account activity during night shift
‚úì Camera footage of unauthorized vehicle

IMMEDIATE ACTIONS:
1. Exit Gate A is LOCKED - all perpetrators contained
2. Security team dispatched - ETA 2 minutes
3. Local police notified - Unit en route
4. All warehouse exits secured - no escape possible
5. Camera footage preserved for evidence

ASSETS PROTECTED: ‚Ç¨37,000,000
STATUS: THREAT NEUTRALIZED ‚úì`
            },
            {
                time: "T+02:00.100",
                title: "Multi-Channel Alert Distribution",
                status: "defense",
                description: "Alert pushed to security team via mobile, email, SMS, and dashboard",
                data: `[ALERT DISTRIBUTION SYSTEM]
Delivery Time: 80ms

=== PUSH NOTIFICATION CHANNELS ===

[1] MOBILE PUSH NOTIFICATIONS
‚Üí Security Chief (Mobile): DELIVERED ‚úì
‚Üí Night Shift Manager: DELIVERED ‚úì
‚Üí Warehouse Supervisor: DELIVERED ‚úì
‚Üí Response Team (5 members): DELIVERED ‚úì
  Message: "üö® CRITICAL: ‚Ç¨37M theft blocked at Gate A"
  Sound: CRITICAL_ALARM
  Vibration: CONTINUOUS
  Action Buttons: [VIEW DETAILS] [DISPATCH TEAM]

[2] SMS ALERTS
‚Üí +33 6 12 34 56 78 (Security Chief): SENT ‚úì
‚Üí +33 6 98 76 54 32 (Police Liaison): SENT ‚úì
  Content: "URGENT: Warehouse breach attempt.
           ‚Ç¨37M value. Exit Gate A locked.
           Perpetrators contained."

[3] EMAIL NOTIFICATIONS
‚Üí security@warehouse-paris.com: SENT ‚úì
‚Üí police@seine-saint-denis.fr: SENT ‚úì
‚Üí management@jd-france.com: SENT ‚úì
  Subject: [CRITICAL] Theft Attempt Blocked - ‚Ç¨37M
  Attachments:
    - incident_report.pdf
    - camera_footage.mp4
    - sensor_data.csv

[4] REAL-TIME DASHBOARD
‚Üí Web Dashboard: UPDATED ‚úì
‚Üí Control Room Display: UPDATED ‚úì
‚Üí Mobile App (React Native): UPDATED ‚úì
  Status: THREAT NEUTRALIZED
  Live Camera Feed: ACTIVE
  Exit Gate Status: LOCKED

[5] INTEGRATION ALERTS
‚Üí Building Management System: LOCKDOWN MODE ‚úì
‚Üí Access Control System: ALL EXITS SECURED ‚úì
‚Üí CCTV Recording: HIGH-RES MODE ACTIVATED ‚úì
‚Üí Police Dispatch System: UNIT EN ROUTE ‚úì

[6] ESCALATION PROTOCOL
Level 1: Security Team (0-2 min) ‚Üí DISPATCHED
Level 2: Management (2-5 min) ‚Üí NOTIFIED
Level 3: Police (5-10 min) ‚Üí EN ROUTE
Level 4: Insurance (24h) ‚Üí PENDING

=== DELIVERY CONFIRMATION ===
Total Recipients: 12 individuals, 4 systems
Success Rate: 100% (16/16)
Average Delivery Time: 80ms
Failed Deliveries: 0

[STATUS] All stakeholders alerted and responding
[RESPONSE] Security team ETA: 90 seconds`
            }
        ];

        // Canvas setup for data flow animation
        const canvas = document.getElementById('dataFlowCanvas');
        const ctx = canvas.getContext('2d');
        let animationId;
        let particles = [];
        let currentPhase = 0;
        let isPaused = false;
        let isPlaying = false;

        // Set canvas size
        function resizeCanvas() {
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Particle class for data flow
        class DataParticle {
            constructor(x, y, targetX, targetY, color, label) {
                this.x = x;
                this.y = y;
                this.targetX = targetX;
                this.targetY = targetY;
                this.color = color;
                this.label = label;
                this.speed = 3;
                this.reached = false;
                this.fadeOut = false;
                this.opacity = 1;
            }

            update() {
                if (!this.reached) {
                    const dx = this.targetX - this.x;
                    const dy = this.targetY - this.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < this.speed) {
                        this.x = this.targetX;
                        this.y = this.targetY;
                        this.reached = true;
                        // Start fade out after reaching target
                        setTimeout(() => {
                            this.fadeOut = true;
                        }, 500);
                    } else {
                        this.x += (dx / distance) * this.speed;
                        this.y += (dy / distance) * this.speed;
                    }
                } else if (this.fadeOut) {
                    // Fade out gradually
                    this.opacity -= 0.05;
                }
            }

            draw() {
                // Skip drawing if fully faded
                if (this.opacity <= 0) return;

                // Apply opacity
                ctx.globalAlpha = this.opacity;

                // Particle glow (doubled size)
                ctx.shadowBlur = 30;
                ctx.shadowColor = this.color;

                // Particle (doubled from 6 to 12 pixels)
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, 12, 0, Math.PI * 2);
                ctx.fill();

                // Label (doubled font from 13px to 26px)
                ctx.shadowBlur = 0;
                ctx.fillStyle = '#ffffff';
                ctx.font = 'bold 26px "Share Tech Mono"';
                ctx.fillText(this.label, this.x + 18, this.y - 18);

                // Trail
                if (!this.reached) {
                    ctx.strokeStyle = this.color;
                    ctx.lineWidth = 3;
                    ctx.globalAlpha = this.opacity * 0.4;
                    ctx.beginPath();
                    ctx.moveTo(this.x, this.y);
                    const trailX = this.x - (this.targetX - this.x) * 0.1;
                    const trailY = this.y - (this.targetY - this.y) * 0.1;
                    ctx.lineTo(trailX, trailY);
                    ctx.stroke();
                }

                // Reset alpha
                ctx.globalAlpha = 1;
            }
        }

        // Draw system architecture
        function drawArchitecture() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 80;

            // System components
            const components = [
                { x: 150, y: centerY, label: 'QR Scanner', color: '#ff9500' },
                { x: 150, y: centerY - 100, label: 'IoT Sensors', color: '#ff9500' },
                { x: 150, y: centerY + 100, label: 'ERP System', color: '#ff9500' },
                { x: centerX, y: centerY, label: 'Kafka\nTopics', color: '#E4393C' },
                { x: centerX + 200, y: centerY - 80, label: 'Flink SQL', color: '#00d4ff' },
                { x: centerX + 200, y: centerY + 80, label: 'Vertex AI', color: '#00d4ff' },
                { x: canvas.width - 350, y: centerY, label: 'Gemini AI', color: '#00ff88' },
                { x: canvas.width - 150, y: centerY - 100, label: 'Mobile\nPush', color: '#ff3b30' },
                { x: canvas.width - 150, y: centerY, label: 'Dashboard\nAlerts', color: '#ff3b30' },
                { x: canvas.width - 150, y: centerY + 100, label: 'Email/SMS', color: '#ff3b30' }
            ];

            // Draw connections (updated for larger boxes - 20% bigger)
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);

            // Sources to Kafka
            for (let i = 0; i < 3; i++) {
                ctx.beginPath();
                ctx.moveTo(components[i].x + 108, components[i].y);
                ctx.lineTo(components[3].x - 108, components[3].y);
                ctx.stroke();
            }

            // Kafka to Processing
            ctx.beginPath();
            ctx.moveTo(components[3].x + 108, components[3].y);
            ctx.lineTo(components[4].x - 108, components[4].y);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(components[3].x + 108, components[3].y);
            ctx.lineTo(components[5].x - 108, components[5].y);
            ctx.stroke();

            // Processing to Gemini
            ctx.beginPath();
            ctx.moveTo(components[4].x + 108, components[4].y);
            ctx.lineTo(components[6].x - 108, components[6].y);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(components[5].x + 108, components[5].y);
            ctx.lineTo(components[6].x - 108, components[6].y);
            ctx.stroke();

            // Gemini to Alert Distribution (Mobile, Dashboard, Email/SMS)
            ctx.beginPath();
            ctx.moveTo(components[6].x + 108, components[6].y);
            ctx.lineTo(components[7].x - 108, components[7].y);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(components[6].x + 108, components[6].y);
            ctx.lineTo(components[8].x - 108, components[8].y);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(components[6].x + 108, components[6].y);
            ctx.lineTo(components[9].x - 108, components[9].y);
            ctx.stroke();

            ctx.setLineDash([]);

            // Draw components
            components.forEach((comp, idx) => {
                // Box (increased size from 120x60 to 216x108 - 20% bigger)
                ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                ctx.strokeStyle = comp.color;
                ctx.lineWidth = 3;
                ctx.shadowBlur = 20;
                ctx.shadowColor = comp.color;

                ctx.fillRect(comp.x - 108, comp.y - 54, 216, 108);
                ctx.strokeRect(comp.x - 108, comp.y - 54, 216, 108);

                // Label (increased font from 12px to 16px)
                ctx.shadowBlur = 0;
                ctx.fillStyle = comp.color;
                ctx.font = 'bold 16px "Rajdhani"';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';

                const lines = comp.label.split('\n');
                lines.forEach((line, lineIdx) => {
                    ctx.fillText(line, comp.x, comp.y - 10 + lineIdx * 20);
                });
            });

            ctx.textAlign = 'left';
            ctx.textBaseline = 'alphabetic';
        }

        // Animate data flow
        function animate() {
            drawArchitecture();

            // Update and draw particles
            particles.forEach(particle => {
                particle.update();
                particle.draw();
            });

            // Remove fully faded particles to prevent blocking
            particles = particles.filter(p => p.opacity > 0);

            if (!isPaused && isPlaying) {
                animationId = requestAnimationFrame(animate);
            }
        }

        // Create phase elements
        function createPhaseElements() {
            const timeline = document.getElementById('phaseTimeline');
            timeline.innerHTML = '';

            phases.forEach((phase, idx) => {
                const phaseEl = document.createElement('div');
                phaseEl.className = 'phase';
                phaseEl.id = `phase-${idx}`;
                phaseEl.innerHTML = `
                    <div class="phase-header">
                        <span class="phase-time">${phase.time}</span>
                        <h3 class="phase-title">${phase.title}</h3>
                        <span class="phase-status ${phase.status}">${phase.status.toUpperCase()}</span>
                    </div>
                    <p style="color: var(--text-secondary); margin-bottom: 15px;">${phase.description}</p>
                    <div class="phase-data">${phase.data}</div>
                `;
                timeline.appendChild(phaseEl);
            });
        }

        // Start demo
        function startDemo() {
            if (isPlaying) return;

            isPlaying = true;
            isPaused = false;
            currentPhase = 0;

            document.getElementById('playBtn').disabled = true;
            document.getElementById('pauseBtn').disabled = false;
            document.getElementById('systemStatus').textContent = 'SYSTEM: ATTACK DETECTED';
            document.getElementById('systemStatus').style.color = '#ff3b30';

            runPhase(0);
            animate();
        }

        // Run individual phase
        function runPhase(phaseIdx) {
            if (phaseIdx >= phases.length || !isPlaying || isPaused) return;

            const phase = phases[phaseIdx];
            const phaseEl = document.getElementById(`phase-${phaseIdx}`);

            // Activate phase
            phaseEl.classList.add('active');

            // Update progress
            const progress = ((phaseIdx + 1) / phases.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';

            // Create data particles for this phase
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;

            if (phaseIdx === 0) {
                // QR Scanner to Kafka
                particles.push(new DataParticle(150, centerY, centerX, centerY, '#ff9500', 'QR_FAIL'));
            } else if (phaseIdx === 1) {
                // Kafka to Flink
                particles.push(new DataParticle(centerX, centerY, centerX + 200, centerY - 80, '#E4393C', 'EVENT'));
            } else if (phaseIdx === 2) {
                // Sensors to Kafka
                particles.push(new DataParticle(150, centerY - 100, centerX, centerY, '#ff9500', 'WEIGHT'));
            } else if (phaseIdx === 3) {
                // Flink processing
                particles.push(new DataParticle(centerX + 200, centerY - 80, centerX + 200, centerY + 80, '#00d4ff', 'CORRELATE'));
            } else if (phaseIdx === 4) {
                // ERP to Kafka
                particles.push(new DataParticle(150, centerY + 100, centerX, centerY, '#ff9500', 'ERP_FRAUD'));
            } else if (phaseIdx === 5) {
                // Vertex AI prediction
                particles.push(new DataParticle(centerX, centerY, centerX + 200, centerY + 80, '#E4393C', 'ML_PREDICT'));
            } else if (phaseIdx === 6) {
                // Exit blocked
                particles.push(new DataParticle(150, centerY, centerX, centerY, '#ff3b30', 'EXIT_BLOCK'));
            } else if (phaseIdx === 7) {
                // Gemini alert generation
                particles.push(new DataParticle(centerX + 200, centerY, canvas.width - 350, centerY, '#00ff88', 'ALERT'));
            } else if (phaseIdx === 8) {
                // Alert distribution to users (Mobile, Dashboard, Email/SMS)
                particles.push(new DataParticle(canvas.width - 350, centerY, canvas.width - 150, centerY - 100, '#ff3b30', 'PUSH'));
                particles.push(new DataParticle(canvas.width - 350, centerY, canvas.width - 150, centerY, '#ff3b30', 'DASHBOARD'));
                particles.push(new DataParticle(canvas.width - 350, centerY, canvas.width - 150, centerY + 100, '#ff3b30', 'EMAIL_SMS'));
            }

            // Wait and move to next phase
            setTimeout(() => {
                phaseEl.classList.remove('active');
                phaseEl.classList.add('completed');

                if (phaseIdx === phases.length - 1) {
                    // Demo complete
                    document.getElementById('systemStatus').textContent = 'SYSTEM: THREAT NEUTRALIZED';
                    document.getElementById('systemStatus').style.color = '#00ff88';
                    document.getElementById('threatStatus').textContent = 'THREAT NEUTRALIZED ‚úì';
                    document.getElementById('playBtn').disabled = false;
                    document.getElementById('pauseBtn').disabled = true;
                    isPlaying = false;
                } else {
                    runPhase(phaseIdx + 1);
                }
            }, 3000);
        }

        // Pause demo
        function pauseDemo() {
            isPaused = true;
            document.getElementById('playBtn').disabled = false;
            document.getElementById('pauseBtn').disabled = true;
        }

        // Reset demo
        function resetDemo() {
            isPlaying = false;
            isPaused = false;
            currentPhase = 0;
            particles = [];

            document.querySelectorAll('.phase').forEach(el => {
                el.classList.remove('active', 'completed');
            });

            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('playBtn').disabled = false;
            document.getElementById('pauseBtn').disabled = true;
            document.getElementById('systemStatus').textContent = 'SYSTEM: MONITORING';
            document.getElementById('systemStatus').style.color = '#00ff88';

            drawArchitecture();
        }

        // Update timestamp
        function updateTimestamp() {
            const now = new Date();
            const timestamp = now.toISOString().replace('T', ' ').substring(0, 19);
            document.getElementById('timestamp').textContent = timestamp;
        }
        setInterval(updateTimestamp, 1000);

        // Initialize
        createPhaseElements();
        drawArchitecture();

        // Auto-start demo after 2 seconds
        setTimeout(() => {
            startDemo();
        }, 2000);
    </script>
</body>
</html>
